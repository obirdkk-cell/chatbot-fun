import time

def get_user_age():
    """ì‚¬ìš©ìë¡œë¶€í„° ì—°ë ¹ì„ ì…ë ¥ë°›ëŠ” í•¨ìˆ˜"""
    while True:
        try:
            age_input = input("ğŸ™‚ ì•ˆë…•í•˜ì„¸ìš”! í•™ìŠµ ë„ìš°ë¯¸ ì±—ë´‡ì…ë‹ˆë‹¤. í•™ìŠµì„ ì‹œì‘í•˜ê¸° ì „ì—, ì‚¬ìš©ìë‹˜ì˜ ì—°ë ¹ì„ ìˆ«ìë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”: ")
            age = int(age_input)
            if 5 <= age <= 100:  # í•©ë¦¬ì ì¸ ì—°ë ¹ ë²”ìœ„ ì„¤ì •
                return age
            else:
                print("ğŸ¤” ì—°ë ¹ì„ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•´ì£¼ì„¸ìš”.")
        except ValueError:
            print("ğŸš¨ ì£„ì†¡í•˜ì§€ë§Œ, ì—°ë ¹ì€ ìˆ«ìë¡œë§Œ ì…ë ¥í•´ì£¼ì„¸ìš”.")

# --- ì—°ë ¹ë³„ ì‘ë‹µ í•¨ìˆ˜ (ê°€ìƒì˜ ì˜ˆì‹œ) ---

def get_learning_response_for_child(query):
    """ì–´ë¦°ì´ìš© ì‘ë‹µ ë¡œì§: ì‰¬ìš´ ë¹„ìœ ì™€ ì¹œê·¼í•œ ì–´íˆ¬"""
    # ì‹¤ì œë¡œëŠ” ê°„ë‹¨í•œ ê·œì¹™ ê¸°ë°˜ ë˜ëŠ” ì†Œí˜• ëª¨ë¸ ì‚¬ìš©
    if "íƒœì–‘ê³„" in query:
        return "â˜€ï¸ íƒœì–‘ê³„ëŠ” ê±°ëŒ€í•œ ê°€ì¡± ê°™ì•„ìš”! íƒœì–‘ì´ ì•„ë¹ ê³ , í–‰ì„±ë“¤ì€ íƒœì–‘ ì£¼ë³€ì„ ë„ëŠ” ì•„ì´ë“¤ì´ì£ . ì•Œì•˜ì§€? ì°¸ ì˜í–ˆì–´ìš”!ğŸ‘"
    return f"ğŸŒŸ ë¬»ê³  ì‹¶ì€ ê²Œ ë­ì•¼? {query}ì— ëŒ€í•´ ë” ì‰½ê²Œ ì„¤ëª…í•´ ì¤„ê²Œ!"

def get_learning_response_for_teen(query):
    """ì²­ì†Œë…„ìš© ì‘ë‹µ ë¡œì§: ê°œë… ì„¤ëª…ê³¼ ì‹¬í™” ì§ˆë¬¸ ìœ ë„"""
    # ì‹¤ì œë¡œëŠ” ì¤‘í˜• ëª¨ë¸ ë˜ëŠ” í•™ìŠµ ì»¤ë¦¬í˜ëŸ¼ ê¸°ë°˜ ì‘ë‹µ
    if "ë¯¸ë¶„" in query:
        return "ğŸ“ˆ ë¯¸ë¶„ì€ ë³€í™”ìœ¨ì„ êµ¬í•˜ëŠ” í•µì‹¬ ê°œë…ì´ì•¼. ì ‘ì„ ì˜ ê¸°ìš¸ê¸°ë¥¼ ì°¾ëŠ” ê±°ë‘ ê°™ì§€. ì–´ë–¤ ë¶€ë¶„ì´ í—·ê°ˆë ¤? ê´€ë ¨ ì˜ˆì œë¥¼ í’€ì–´ë³¼ê¹Œ?"
    return f"ğŸ“š ë„¤ ì§ˆë¬¸ì¸ '{query}'ì— ëŒ€í•´ ê¹Šì´ ìˆëŠ” ì„¤ëª…ì„ ì¤€ë¹„í–ˆì–´. ì¢€ ë” êµ¬ì²´ì ìœ¼ë¡œ ë¬¼ì–´ë´ ì¤„ë˜?"

def get_learning_response_for_adult(query):
    """ì„±ì¸ìš© ì‘ë‹µ ë¡œì§: ì‹¤ìš©ì  ì ìš©ê³¼ ìš”ì•½ ê°•ì¡°"""
    # ì‹¤ì œë¡œëŠ” ëŒ€í˜• ëª¨ë¸ ë˜ëŠ” ì „ë¬¸ ì§€ì‹ ê¸°ë°˜ ì‘ë‹µ
    if "ë¨¸ì‹ ëŸ¬ë‹" in query:
        return "ğŸ’» ë¨¸ì‹ ëŸ¬ë‹ì€ ë°ì´í„°ë¥¼ í†µí•´ í•™ìŠµí•˜ëŠ” AIì˜ í•µì‹¬ ë¶„ì•¼ì…ë‹ˆë‹¤. ë¹„ì¦ˆë‹ˆìŠ¤ ì ìš© ì‚¬ë¡€(ì¶”ì²œ ì‹œìŠ¤í…œ, ì˜ˆì¸¡ ëª¨ë¸)ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ìš”ì•½í•´ ë“œë¦´ê¹Œìš”?"
    return f"âœ… '{query}'ì— ëŒ€í•œ ì „ë¬¸ì ì¸ ë‹µë³€ì…ë‹ˆë‹¤. ì–´ë–¤ ì •ë³´ê°€ ê°€ì¥ í•„ìš”í•˜ì‹ ê°€ìš”?"

# --- ë©”ì¸ ì±—ë´‡ ë£¨í”„ ---

def run_learning_chatbot():
    """ì±—ë´‡ ì‹¤í–‰ í•¨ìˆ˜"""
    user_age = get_user_age()
    
    # 3. ì—°ë ¹ì— ë”°ë¥¸ ì‘ë‹µ ë¡œì§ ë¶„ê¸°
    if user_age < 13:
        response_func = get_learning_response_for_child
        print("ğŸ‘¶ ì, ì´ì œ ì±—ë´‡ ì¹œêµ¬ì™€ ì‹ ë‚˜ê²Œ ê³µë¶€í•´ ë³´ì!")
    elif 13 <= user_age <= 18:
        response_func = get_learning_response_for_teen
        print("ğŸ§‘â€ğŸ“ ë°˜ê°‘ìŠµë‹ˆë‹¤! í•™ìŠµ ëª©í‘œ ë‹¬ì„±ì„ ë„ì™€ë“œë¦´ê²Œìš”.")
    else: # 19ì„¸ ì´ìƒ
        response_func = get_learning_response_for_adult
        print("ğŸ’¼ ì•ˆë…•í•˜ì„¸ìš”. íš¨ìœ¨ì ì¸ ì •ë³´ ìŠµë“ì„ ì§€ì›í•©ë‹ˆë‹¤.")

    print("---")
    
    while True:
        user_input
